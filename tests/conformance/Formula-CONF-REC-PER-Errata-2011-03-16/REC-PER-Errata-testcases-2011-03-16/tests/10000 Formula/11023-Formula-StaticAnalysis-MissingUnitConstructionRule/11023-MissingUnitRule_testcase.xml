<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2007 XBRL International. All Rights Reserved. -->
<?xml-stylesheet type="text/xsl" href="../../../infrastructure/test.xsl"?>
<testcase
xmlns="http://xbrl.org/2008/conformance"
xmlns:xbrlfe="http://xbrl.org/2008/formula/error" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="
  http://xbrl.org/2008/conformance 
  ../../../infrastructure/test.xsd">
  <creator>
    <name>Pablo Navarro Salvador, Herm Fischer</name>
    <email>pns.atos@gmail.com, fischer@markv.com</email>
  </creator>
  <number>11023</number>
  <name>Unit Aspect rules in formulae</name>
  <description>
    An error must be thrown if a formula 
    produces a numeric item but omits 
    an aspect rule for the unit aspect.
  </description>
  <reference specification="FORMULA" id="error-missing-unit-rule"/>

  <variation id="V-01">
    <description>
      The formula produces a numeric item but 
      it doesn't have a unit aspect rule  
      for unit aspect.  The formula has no source to prevent
      default unit aspect rules.  In this variation the numeric
      concept is specified explicitly by formula concept rule qname, so
      that it can be determined during static analysis of linkbase. 
    </description>
    <data>
      <schema readMeFirst="true">11023-v01-concepts.xsd</schema>
      <linkbase readMeFirst="false">11023-v01-output-missing-unit-formula.xml</linkbase>
    </data>
    <result>
      <error>xbrlfe:missingUnitRule</error>
    </result>
  </variation>

  <variation id="V-02">
    <description>
      Same as V-01 but the numeric concept is specified
      by concept aspect rule referring by source to a factVariable
      filtered to a statically qnamed numeric concept.
    </description>
    <data>
      <schema readMeFirst="true">11023-v02-concepts.xsd</schema>
      <linkbase readMeFirst="false">11023-v02-output-missing-unit-formula.xml</linkbase>
    </data>
    <result>
      <error>xbrlfe:missingUnitRule</error>
    </result>
  </variation>
</testcase>
