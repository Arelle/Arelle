<?xml version="1.0" encoding="UTF-8"?><!-- Copyright 2005 XBRL International. All Rights Reserved. --><?xml-stylesheet type="text/xsl" href="../../testcase.xsl"?><testcase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xbrldte="http://xbrl.org/2005/xbrldt/errors" xmlns="http://xbrl.org/2005/conformance" name="115-TestCase-PrimaryItemPolymorphismError" description="2.1 to 2.10 - Dimensional relationships except 2.5" outpath="out" owner="ihr@xbrl.org" minimal="true" xsi:schemaLocation="http://xbrl.org/2005/conformance ../../lib/test.xsd">
        <!-- Dimensional taxonomy syntax rules pertaining to schemas and linkbases, and not covered by XML Schema and XBRL Validation. -->
        <!-- Note that XBRL validation requires the source and target of a definitionArc to be a concept. -->
        <!-- As of the 2005-10-26 internal working draft. (Herm) -->
        <!-- 2.5.3.2.1 3. A dimensional processor MUST raise an error [Dim Err, 15] xbrldte:PrimaryItemPolymorphismError[Dim Err, 15] xbrldte:PrimaryItemPolymorphismError if there is a cycle in which the primary item source of the hypercube is also a member of a domain [Def, 7] of any of the declared explicit dimensions -->
        <variation name="primaryItemPolymorphismDirectError" id="V-01">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">A primary item source of a hypercube is also a member of an explicit dimension's domain</description>
                <data>
                        <linkbase readMeFirst="true">polymorphismDirectError-definition.xml</linkbase>
                        <xsd readMeFirst="false">polymorphismError.xsd</xsd>
                        <linkbase readMeFirst="false">polymorphismError-label.xml</linkbase>
                </data>
                <result>
                        <error>xbrldte:PrimaryItemPolymorphismError</error>
                </result>
        </variation>
        <variation name="primaryItemPolymorphismIndirectError" id="V-02">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">A primary item source of a hypercube is also a member of an explicit dimension's domain</description>
                <data>
                        <linkbase readMeFirst="true">polymorphismIndirectError-definition.xml</linkbase>
                        <xsd readMeFirst="false">polymorphismError.xsd</xsd>
                        <linkbase readMeFirst="false">polymorphismError-label.xml</linkbase>
                </data>
                <result>
                        <error>xbrldte:PrimaryItemPolymorphismError</error>
                </result>
        </variation>
        <variation name="primaryItemPolymorphismDirectUsableFalse" id="V-03">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">A primary item source of a hypercube is also a member of an explicit dimension's domain, but one of the arcs has usable=false.  This doesn't make any difference.</description>
                <data>
                        <linkbase readMeFirst="true">polymorphismDirectUnusableError-definition.xml</linkbase>
                        <xsd readMeFirst="false">polymorphismError.xsd</xsd>
                        <linkbase readMeFirst="false">polymorphismError-label.xml</linkbase>
                </data>
                <result/>
        </variation>
        <variation name="primaryItemPolymorphismIndirectUsableFalse" id="V-04">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">A primary item source of a hypercube is also a member of an explicit dimension's domain, but one of the arcs has usable=false.  This doesn't make any difference.</description>
                <data>
                        <linkbase readMeFirst="true">polymorphismIndirectUnusableError-definition.xml</linkbase>
                        <xsd readMeFirst="false">polymorphismError.xsd</xsd>
                        <linkbase readMeFirst="false">polymorphismError-label.xml</linkbase>
                </data>
                <result/>
        </variation>
        <variation name="primaryItemPolymorphismDifferentSubGraphs" id="V-05">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">'BiologicalAssets' appears as both a primary item and a domain member, however it is not a domain member in the context of itself, but of a different primary item</description>
                <data>
                        <xsd readMeFirst="true">polymorphismErrorDifferentSubgraph.xsd</xsd>
                        <linkbase readMeFirst="false">polymorphismErrorDifferentSubgraph-definition.xml</linkbase>
                        <linkbase readMeFirst="false">polymorphismErrorDifferentSubgraph-presentation.xml</linkbase>
                </data>
                <result/>
        </variation>
        <variation name="primaryItemPolymorphismInherited" id="V-06">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">Check for polymorphism including inherited hypercubes.</description>
                <data>
                        <linkbase readMeFirst="true">polymorphismErrorInherited-definition.xml</linkbase>
                        <xsd readMeFirst="false">polymorphismErrorInherited.xsd</xsd>
                </data>
                <result>
                        <error>xbrldte:PrimaryItemPolymorphismError</error>
                </result>
        </variation>
        <variation name="polymorphismDefaultTest1" id="V-07">
                <description reference="XDT-IWD-2005-10-26.doc#2.5.3.2.1">
                  For bugzilla #350.  Per e-mail from Maciej on 5 Mar 2009 and bugzilla discussion.  MP writes:  (1) Defaults are global and they do not need consecutive relationships (all, hypercube-dimension) to be applicable to all primary items it a taxonomy (it is my understanding of option 1). (2) Taxonomy has with one item (item, string, non-abstract) and one dimensionItem in the schema. It is linked to the dimension via dimension-default in definition linkbase.  Bugzilla discussion is that this does not create polymorphism for the item that is also the default, because the error only occurs "if there is a cycle in which the primary item source of the hypercube is also a member of the domain of valid members [Def, 12]".
                </description>
                <data>
                        <linkbase readMeFirst="false">polymorphismDefaultTest1-definition.xml</linkbase>
                        <xsd readMeFirst="true">polymorphismDefaultTest1.xsd</xsd>
                </data>
                <result>
                   <!-- no error -->
                </result>
        </variation>
</testcase>
